<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Senhas - Unidade 2</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&family=Roboto+Mono&display=swap');

        :root {
            --branco: white;
            --cor-de-fundo: #ebe8e1;
            --fundo-senha: #d4d4d4;
            --fundo-texto: #aaaaaa;
            --borda: #808080;
            --roboto: 'Roboto', sans-serif;
            --roboto-mono: 'Roboto Mono', monospace;
        }

        * {
            font-weight: 400;
            box-sizing: border-box;
        }

        body {
            color: var(--branco);
            background-color: var(--cor-de-fundo);
            font-family: var(--roboto);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        .conteudo {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .conteudo-titulo {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 40px;
        }

        .titulo-principal {
            font-family: var(--roboto-mono);
            font-size: 32px;
            margin-bottom: 10px;
        }

        .titulo-secundario {
            font-size: 24px;
            color: #a0a0a0;
            margin-top: 0;
        }

        .conteudo-senha {
            margin-top: 40px;
            background: var(--fundo-senha);
            padding: 24px;
            border-bottom: 6px solid var(--borda);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #campo-senha {
            background-color: var(--fundo-senha);
            border: none;
            color: var(--branco);
            font-family: var(--roboto-mono);
            font-size: 40px;
            width: 100%;
            text-align: center;
            margin-top: 10px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        #campo-senha:focus {
            outline: none;
        }

        .conteudo-senha label {
            font-size: 20px;
            align-self: flex-start;
        }

        .parametro {
            background-color: var(--fundo-texto);
            border: 2px solid var(--borda);
            margin-top: 32px;
            padding: 24px;
            border-radius: 8px;
        }

        .parametro-titulo {
            font-family: var(--roboto-mono);
            font-size: 28px;
            margin-top: 0;
            text-align: center;
        }

        .parametro-senha__titulo {
            font-size: 24px;
            margin-top: 0;
        }

        .parametro-coluna__senha {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 30px;
        }

        .parametro-senha {
            width: 100%;
        }

        .parametro-senha-botoes {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .parametro-senha__botao {
            background-color: var(--fundo-texto);
            color: var(--branco);
            border: 2px solid var(--borda);
            padding: 10px 20px;
            font-size: 24px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.2s;
        }

        .parametro-senha__botao:hover {
            background-color: var(--borda);
        }

        .parametro-senha__texto {
            padding: 10px 20px;
            border-top: 2px solid var(--borda);
            border-bottom: 2px solid var(--borda);
            margin: 0;
            font-size: 24px;
            min-width: 60px;
            text-align: center;
        }

        .parametro-senha-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .barra {
            background-color: var(--fundo-senha);
            height: 30px;
            width: 100%;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .forca {
            height: 30px;
            position: relative;
            bottom: 30px;
            transition: width 0.3s ease;
        }

        .fraca {
            width: 25%;
            background-color: #E71B32;
        }

        .media {
            width: 50%;
            background-color: #FAF408;
        }

        .forte {
            width: 100%;
            background-color: #00FF85;
        }

        .parametro-senha-textos {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .entropia {
            font-size: 14px;
            color: #a0a0a0;
            margin-top: 20px;
            text-align: center;
        }

        .botao-copiar {
            background-color: var(--borda);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            transition: background-color 0.2s;
            font-family: var(--roboto);
        }

        .botao-copiar:hover {
            background-color: #005cc8;
        }

        @media screen and (min-width: 768px) {
            .parametro-coluna__senha {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .parametro-senha {
                width: 45%;
            }
            
            .conteudo-titulo {
                margin-top: 80px;
            }
            
            .conteudo-senha {
                margin-top: 80px;
            }
        }

        @media screen and (min-width: 1024px) {
            .parametro-coluna__senha {
                justify-content: space-between;
            }
            
            .parametro-senha {
                width: 30%;
            }
        }
    </style>
</head>

<body>
    <section class="conteudo">
        <div class="conteudo-titulo">
            <h2 class="titulo-principal">Gerador de Senhas Seguras</h2>
            <h3 class="titulo-secundario">Crie senhas fortes e aleatórias para proteger suas contas</h3>
        </div>
        <div class="conteudo-senha">
            <label for="senha">Sua senha segura:</label>
            <input name="senha" type="text" id="campo-senha" readonly>
            <button class="botao-copiar" id="botao-copiar">Copiar Senha</button>
        </div>
        <div class="parametro">
            <h3 class="parametro-titulo">Personalize sua senha</h3>
            <div class="parametro-coluna__senha">
                <div class="parametro-senha">
                    <h4 class="parametro-senha__titulo">Tamanho da senha</h4>
                    <div class="parametro-senha-botoes">
                        <button class="parametro-senha__botao" id="diminuir">-</button>
                        <p class="parametro-senha__texto" id="numero-caracteres">12</p>
                        <button class="parametro-senha__botao" id="aumentar">+</button>
                    </div>
                </div>
                <div class="parametro-senha">
                    <h4 class="parametro-senha__titulo">Tipos de caracteres</h4>
                    <div class="parametro-senha-checkbox">
                        <input name="maiusculo" type="checkbox" class="checkbox" id="maiusculas" checked>
                        <label for="maiusculas">Letras maiúsculas (A-Z)</label>
                    </div>
                    <div class="parametro-senha-checkbox">
                        <input name="minusculo" type="checkbox" class="checkbox" id="minusculas">
                        <label for="minusculas">Letras minúsculas (a-z)</label>
                    </div>
                    <div class="parametro-senha-checkbox">
                        <input name="numero" type="checkbox" class="checkbox" id="numeros">
                        <label for="numeros">Números (0-9)</label>
                    </div>
                    <div class="parametro-senha-checkbox">
                        <input name="simbolo" type="checkbox" class="checkbox" id="simbolos">
                        <label for="simbolos">Símbolos (!@%*)</label>
                    </div>
                </div>
                <div class="parametro-senha">
                    <h4 class="parametro-senha__titulo">Força da senha</h4>
                    <div class="barra"></div>
                    <div class="forca" id="forca-senha"></div>
                    <div class="parametro-senha-textos">
                        <p>Fraca</p>
                        <p>Média</p>
                        <p>Forte</p>
                    </div>
                    <p class="entropia" id="entropia"></p>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elementos do DOM
            const campoSenha = document.getElementById('campo-senha');
            const botaoCopiar = document.getElementById('botao-copiar');
            const numeroCaracteres = document.getElementById('numero-caracteres');
            const botaoDiminuir = document.getElementById('diminuir');
            const botaoAumentar = document.getElementById('aumentar');
            const checkboxMaiusculas = document.getElementById('maiusculas');
            const checkboxMinusculas = document.getElementById('minusculas');
            const checkboxNumeros = document.getElementById('numeros');
            const checkboxSimbolos = document.getElementById('simbolos');
            const forcaSenha = document.getElementById('forca-senha');
            const textoEntropia = document.getElementById('entropia');
            
            // Conjuntos de caracteres
            const maiusculas = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const minusculas = 'abcdefghijklmnopqrstuvwxyz';
            const numeros = '0123456789';
            const simbolos = '!@%*?';
            
            // Configurações iniciais
            let tamanhoSenha = 12;
            let usarMaiusculas = true;
            let usarMinusculas = false;
            let usarNumeros = false;
            let usarSimbolos = false;
            
            // Event Listeners
            botaoDiminuir.addEventListener('click', diminuirTamanho);
            botaoAumentar.addEventListener('click', aumentarTamanho);
            botaoCopiar.addEventListener('click', copiarSenha);
            checkboxMaiusculas.addEventListener('change', atualizarConfiguracoes);
            checkboxMinusculas.addEventListener('change', atualizarConfiguracoes);
            checkboxNumeros.addEventListener('change', atualizarConfiguracoes);
            checkboxSimbolos.addEventListener('change', atualizarConfiguracoes);
            
            // Gerar senha inicial
            gerarSenha();
            
            // Funções
            function diminuirTamanho() {
                if (tamanhoSenha > 4) {
                    tamanhoSenha--;
                    numeroCaracteres.textContent = tamanhoSenha;
                    gerarSenha();
                }
            }
            
            function aumentarTamanho() {
                if (tamanhoSenha < 32) {
                    tamanhoSenha++;
                    numeroCaracteres.textContent = tamanhoSenha;
                    gerarSenha();
                }
            }
            
            function atualizarConfiguracoes() {
                usarMaiusculas = checkboxMaiusculas.checked;
                usarMinusculas = checkboxMinusculas.checked;
                usarNumeros = checkboxNumeros.checked;
                usarSimbolos = checkboxSimbolos.checked;
                
                // Garantir que pelo menos um tipo de caractere esteja selecionado
                if (!usarMaiusculas && !usarMinusculas && !usarNumeros && !usarSimbolos) {
                    checkboxMaiusculas.checked = true;
                    usarMaiusculas = true;
                }
                
                gerarSenha();
            }
            
            function gerarSenha() {
                let caracteresDisponiveis = '';
                let tamanhoAlfabeto = 0;
                
                if (usarMaiusculas) {
                    caracteresDisponiveis += maiusculas;
                    tamanhoAlfabeto += maiusculas.length;
                }
                if (usarMinusculas) {
                    caracteresDisponiveis += minusculas;
                    tamanhoAlfabeto += minusculas.length;
                }
                if (usarNumeros) {
                    caracteresDisponiveis += numeros;
                    tamanhoAlfabeto += numeros.length;
                }
                if (usarSimbolos) {
                    caracteresDisponiveis += simbolos;
                    tamanhoAlfabeto += simbolos.length;
                }
                
                let senha = '';
                for (let i = 0; i < tamanhoSenha; i++) {
                    const indiceAleatorio = Math.floor(Math.random() * caracteresDisponiveis.length);
                    senha += caracteresDisponiveis.charAt(indiceAleatorio);
                }
                
                campoSenha.value = senha;
                calcularForcaSenha(tamanhoAlfabeto);
            }
            
            function calcularForcaSenha(tamanhoAlfabeto) {
                const entropia = tamanhoSenha * Math.log2(tamanhoAlfabeto);
                
                // Limpar classes anteriores
                forcaSenha.className = 'forca';
                
                if (entropia > 80) {
                    forcaSenha.classList.add('forte');
                    textoEntropia.textContent = `Senha muito forte! Um computador levaria ${calcularTempoQuebra(entropia)} para quebrar.`;
                } else if (entropia > 50) {
                    forcaSenha.classList.add('media');
                    textoEntropia.textContent = `Senha média. Um computador levaria ${calcularTempoQuebra(entropia)} para quebrar.`;
                } else {
                    forcaSenha.classList.add('fraca');
                    textoEntropia.textContent = `Senha fraca. Um computador levaria ${calcularTempoQuebra(entropia)} para quebrar.`;
                }
            }
            
            function calcularTempoQuebra(entropia) {
                const tentativasPorSegundo = 1e9; // 1 bilhão de tentativas por segundo
                const segundos = Math.pow(2, entropia) / tentativasPorSegundo;
                
                if (segundos < 60) {
                    return `${Math.ceil(segundos)} segundos`;
                } else if (segundos < 3600) {
                    return `${Math.ceil(segundos / 60)} minutos`;
                } else if (segundos < 86400) {
                    return `${Math.ceil(segundos / 3600)} horas`;
                } else if (segundos < 31536000) {
                    return `${Math.ceil(segundos / 86400)} dias`;
                } else {
                    return `${Math.ceil(segundos / 31536000)} anos`;
                }
            }
            
            function copiarSenha() {
                campoSenha.select();
                campoSenha.setSelectionRange(0, 99999); // Para dispositivos móveis
                
                try {
                    const copiado = document.execCommand('copy');
                    if (copiado) {
                        botaoCopiar.textContent = 'Copiado!';
                        setTimeout(() => {
                            botaoCopiar.textContent = 'Copiar Senha';
                        }, 2000);
                    }
                } catch (err) {
                    // Fallback para navegadores modernos
                    navigator.clipboard.writeText(campoSenha.value).then(() => {
                        botaoCopiar.textContent = 'Copiado!';
                        setTimeout(() => {
                            botaoCopiar.textContent = 'Copiar Senha';
                        }, 2000);
                    });
                }
            }
        });
    </script>
</body>

</html>
